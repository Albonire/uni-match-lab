<!--
  Este es un parcial de HTML listo para Rails/Hotwire para los modales de autenticación.

  Controlador Principal: `auth-modal_controller.js`
  - Targets: `loginModal`, `signupModal`
  - Acciones: `close()`
  - Lógica: Escucharía eventos globales (ej. 'open-login-modal') para quitar la clase `hidden` de sus targets.
    La acción `close()` añadiría la clase `hidden` a ambos modales.

  Controlador Anidado: `password-visibility_controller.js`
  - Targets: `input`, `showIcon`, `hideIcon`
  - Acciones: `toggle()`
  - Lógica: La acción `toggle` cambiaría el `type` del target `input` entre 'text' y 'password',
    y alternaría la visibilidad de los targets de los iconos.
-->
<div data-controller="auth-modal">
  <!-- Login Modal -->
  <div data-auth-modal-target="loginModal" class="modal-backdrop hidden" data-action="click->auth-modal#close">
    <div class="card-floating w-full max-w-md mx-auto animate-scale-in" data-action="click->stop">
      <button type="button" data-action="click->auth-modal#close" class="absolute top-4 right-4 p-2 hover:bg-secondary/50 rounded-full transition-colors" aria-label="Cerrar modal">
        <svg class="w-5 h-5 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>
      </button>
      <div class="p-8">
        <div class="text-center mb-8">
          <h2 id="login-title" class="font-display font-bold text-2xl text-foreground mb-2">Ingresar</h2>
          <p class="text-muted-foreground">Bienvenido de vuelta a cUPido</p>
        </div>
        <form class="space-y-6">
          <div>
            <label for="login-email" class="text-foreground font-medium mb-2 block">Correo institucional</label>
            <div class="relative">
              <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
              <input id="login-email" type="email" placeholder="usuario@universidad.edu" class="pl-10 h-12 w-full" />
            </div>
          </div>
          <div data-controller="password-visibility">
            <label for="login-password" class="text-foreground font-medium mb-2 block">Contraseña</label>
            <div class="relative">
              <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
              <input id="login-password" type="password" placeholder="Tu contraseña" class="pl-10 pr-10 h-12 w-full" data-password-visibility-target="input" />
              <button type="button" data-action="click->password-visibility#toggle" class="absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-secondary/50 rounded" aria-label="Mostrar contraseña">
                <svg data-password-visibility-target="showIcon" class="w-4 h-4 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                <svg data-password-visibility-target="hideIcon" class="w-4 h-4 text-muted-foreground hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>
              </button>
            </div>
          </div>
          <button type="submit" class="btn-hero w-full h-12">Ingresar</button>
          <div class="text-center">
            <button type="button" class="text-primary hover:text-accent transition-colors text-sm">¿Olvidaste tu contraseña?</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Signup Modal -->
  <div data-auth-modal-target="signupModal" class="modal-backdrop hidden" data-action="click->auth-modal#close">
    <div class="card-floating w-full max-w-md mx-auto animate-scale-in" data-action="click->stop">
      <button type="button" data-action="click->auth-modal#close" class="absolute top-4 right-4 p-2 hover:bg-secondary/50 rounded-full transition-colors" aria-label="Cerrar modal">
        <svg class="w-5 h-5 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>
      </button>
      <div class="p-8">
        <div class="text-center mb-8">
          <h2 id="signup-title" class="font-display font-bold text-2xl text-foreground mb-2">Crear cuenta</h2>
          <p class="text-muted-foreground">Únete a la comunidad universitaria</p>
        </div>
          <div class="space-y-6">
            <div>
              <label for="signup-name" class="text-foreground font-medium mb-2 block">Nombre completo</label>
              <div class="relative">
                <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                <input id="signup-name" type="text" placeholder="Tu nombre" class="pl-10 h-12 w-full" />
              </div>
            </div>
            <div>
              <label for="signup-email" class="text-foreground font-medium mb-2 block">Correo institucional</label>
              <div class="relative">
                <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                <input id="signup-email" type="email" placeholder="usuario@universidad.edu" class="pl-10 h-12 w-full" />
              </div>
            </div>
            <div data-controller="password-visibility">
              <label for="signup-password" class="text-foreground font-medium mb-2 block">Contraseña</label>
              <div class="relative">
                <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                <input id="signup-password" type="password" placeholder="Mínimo 8 caracteres" class="pl-10 pr-10 h-12 w-full" data-password-visibility-target="input" />
                <button type="button" data-action="click->password-visibility#toggle" class="absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-secondary/50 rounded" aria-label="Mostrar contraseña">
                  <svg data-password-visibility-target="showIcon" class="w-4 h-4 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                  <svg data-password-visibility-target="hideIcon" class="w-4 h-4 text-muted-foreground hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>
                </button>
              </div>
            </div>
            <div data-controller="password-visibility">
              <label for="signup-confirm" class="text-foreground font-medium mb-2 block">Confirmar contraseña</label>
              <div class="relative">
                <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                <input id="signup-confirm" type="password" placeholder="Repite tu contraseña" class="pl-10 pr-10 h-12 w-full" data-password-visibility-target="input" />
                <button type="button" data-action="click->password-visibility#toggle" class="absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-secondary/50 rounded" aria-label="Mostrar contraseña">
                  <svg data-password-visibility-target="showIcon" class="w-4 h-4 text-muted-foreground" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                  <svg data-password-visibility-target="hideIcon" class="w-4 h-4 text-muted-foreground hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>
                </button>
              </div>
            </div>
          </div>
          <div class="text-xs text-muted-foreground">
            Al continuar aceptas nuestros <button class="text-primary hover:text-accent transition-colors">Términos de Servicio</button> y <button class="text-primary hover:text-accent transition-colors">Política de Privacidad</button>.
          </div>

          <button type="submit" class="btn-hero w-full h-12">Crear cuenta</button>
          <div class="text-center">
            <button type="button" class="w-full h-12 border-2 rounded-xl">Continuar con Google (próximamente)</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
